parameters:
    fooParameter: barValue
    barParameter: ['foo', 'bar']
    fooProperty: 'fooProperty'

services:
    foo:
        class: ./../foo
        arguments: ['@bar', '%fs-extra', 'foo-bar', '%fooParameter%']
        tags:
            - {name: 'fooTag'}
        properties:
            property: '%fooProperty%'


    bar:
        class: ./../bar
        calls:
            - {method: setFooBar, arguments: ['@foobar']}
        tags:
            - {name: 'fooTag'}

    foobar:
        class: ./../foobar
        arguments:
            - '@injected.lazy.service'
        deprecated: 'Deprecated service'

    f:  '@foo'

    lazy.service:
        class: ./../foobar
        lazy: true

    injected.lazy.service:
        class: ./../foobar
        lazy: true

    factory:
        class: ./../factory

    from_factory_without_args:
        factory:
            class: ./../factory
            method: getFactoryWithoutArgs

    from_factory_with_args:
        arguments: ['ok']
        factory:
            class: ./../factory
            method: getFactoryWithArgs

    from_factory_with_reference_without_args:
        factory:
            class: '@factory'
            method: getFactoryWithoutArgs

    from_factory_with_reference_with_args:
        arguments: ['ok']
        factory:
            class: '@factory'
            method: getFactoryWithArgs

    from_factory_with_reference_with_service_arg:
        arguments: ['@f']
        factory:
            class: '@factory'
            method: getFactoryWithServiceArg

    service_missing_dependencies:
        class: ./../missingDependencies
        arguments: ['@f', '@?not_exists']

    service_with_dependencies:
        class: ./../missingDependencies
        arguments: ['@f', '@?foobar']

    service_missing_dependencies_call:
        class: ./../missingDependencies
        calls:
            - {method: setMethod, arguments: ['@?not_exists']}

    service_with_dependencies_call:
        class: ./../missingDependencies
        calls:
            - {method: setMethod, arguments: ['@foobar']}